第一章

![image](images/frontdot.jpg)

设计机构

好的开始是成功的一半。

—亚里士多德

亚里士多德有些夸张，但是我相信他的观点是，没有一个正确的开端，你的软件开发努力可能会化为乌有。如果你一开始就组织好这个项目，坚持下去就会成功。在这一章中，我解释了成功的基本决定因素，如何确保它们到位，以及如何让你的项目专注于它们。然后，我略微谈到了两个实际问题:如何远离法律纠纷，以及如何获得报酬。

人决定成功

这本书的副标题里有“应用”这个词是有原因的。它是关于写程序给人们使用，这就是应用程序。这意味着你的应用程序开发的成功完全取决于人们是否满意。

没错。即使你的数据库是第三范式，你的 PHP 是面向对象的，你的 HTML 使用 CSS(层叠样式表)来分离形式和功能，你使用最新的敏捷流程，你已经找出了所有的错误，如果你为之构建系统的人不满意它也没关系。反之亦然:如果他们满意，他们会称你的工作成功，即使你知道它在技术上有所欠缺。

所以，既然人决定成功，很明显有两件事你绝对需要知道:这些重要的人是谁和 T2 如何满足他们。

这些人是谁？

人是你的应用程序的利益相关者:雇佣你的人、直接用户、报告的接收者、期望节约成本的首席财务官、期望提高效率的首席执行官、运行与你联系的系统的 IT(信息技术)人员，以及任何与项目成功有利害关系的人。对用户的看法过于狭隘是错误的，这可能是受到今天强调“可用性”或“用户友好性”的鼓励这些都很重要，但是您需要满足的许多成分永远不会直接使用应用程序，甚至可能永远不会看到它运行。

例如，当我开始为 Richardson(德克萨斯州)学区开发一个学生信息系统时，我第一次见到了 IT 主管，他为我描绘了这个项目的草图。第二天，我见到了他的三名直属员工，他们从新学年开始，也就是他们第一次开始使用新系统的时候，就一直在和一家外部供应商打交道。几个月后，在一次包括小学助理督学在内的会议上，结果是他们想从我这里得到的是一个简单的系统，只用于小学成绩单，当然，我说我可以为他们制作。我们称之为 Rgrade (R 代表理查森)。当我开始设计这个新应用程序时，我遇到了更多的 IT 人员、一些教师、两个在城市另一边的另一栋大楼里运行服务器的人、另一个负责评估的助理主管(这在德克萨斯州是一件大事)，以及其他几个我一直不太清楚姓名和头衔的人。

为了使我的项目成功，必须满足列表中的哪些人，按优先顺序排列？你需要分清主次，因为，当然，你不可能让每个人都满意，至少不可能完全满意。谁必须首先满足，其次，第三，等等？

嗯，第一条规则是，你最需要的是让雇佣你并支付你薪水的人满意。(几年前在拉丁语课上，我了解到罗马士兵总是由他们的将军直接支付军饷，而不是由政客控制的政府支付，所以将军可以确信他们会忠于他。)

但是，什么能让 IT 主管满意呢？他对该系统的任何功能、使用起来有多简单、运行成本(在合理范围内)或其他任何技术问题都不屑一顾。我不知道他是否在乎孩子们是否被评分。我从与小学助理督学的会面中了解到，老师们对现有的供应商体系感到不满，她想要和平。IT 主管希望与她和平相处，因为是他将他们如此不喜欢的现有系统付诸实施。

因此，下一个需要满足的群体将是使用该系统的教师。我的清单到此为止；没有第三或第四优先。只要我不打扰他们太多，服务器人员并不重要。IT 人员无关紧要——如果他们再也没有听说过初级成绩单，他们会很高兴。只要成绩单生成了，评估人员就很高兴。

这个故事的重点不是提出一个如何优先考虑满意度的公式，或者解释德克萨斯州的学区是如何工作的(无论如何可能都是不可能的)。关键是，对于任何项目，你必须拿出所有人的完整名单，并了解他们每个人的需求，他们的需求如何联系(如果助理主管高兴，IT 主管就高兴，如果教师高兴，她也高兴)，以及如何最大限度地提高满意度。

另一个例子:我是一家公司的工程副总裁，该公司开发了一个名为 SuperSked 的系统，用于优化超市收银员的时间表，该系统被出售给大型食品连锁店，如 Safeway 和 Kroger。这是一个基本上现成的产品，而不是像 Rgrade 那样的定制工作。我们所有的客户互动都是与连锁店总部的运营部门进行的。该系统由商店经理的员工使用，但我们从未见过任何直接用户。众所周知，杂货店的利润率很低，因此 SuperSked 节省的劳动力非常可观。这是所有行动关心的。当然，系统必须是可用的，但是易用性并不重要。如果它能省钱，商店就会使用它，即使这意味着用鼻子尖输入数据。我们必须满足谁？运营部门。

每个案例都会不一样，所以你要深挖。不要猜测。

怎么满足？

然而，仅仅知道谁让 T2 满意还不够。你需要知道*如何*满足他们。计算机人士称之为“如何”满足*要求*。很简单:如果需求是正确的，并且你满足了它们，你需要满足的人就会得到满足，这个系统就成功了。如果需求是错误的，你将满足错误的人或者没有人，无论哪种方式你都失败了。

我将在第 2 章中更多地讨论需求，所以我在这里只从高层次上讨论它们。对于 Rgrade，它们很容易表达:老师们希望有一个单一的、易于理解的表格，他们可以将分数放入其中，从列表中选择老师的评论(该地区不允许自由格式的评论)，并有英语和西班牙语的成绩单弹出。报告卡的格式已经确定，西班牙语的翻译意见也是如此。产量要求是显而易见的:与去年和前年一样的成绩单。只要它起作用，对老师来说最重要的是他们多快能拿到分数。他们通常工作到很晚，甚至在家里，花在这上面的每一分钟都是从他们更喜欢做的事情中抽出来的。可能是备课或帮助学生，也可能是看球赛和喝啤酒。但从不升级。

那么输入表单呢？应该是什么样子？我把它弄得和成绩单一样。它看起来非常像那张成绩单，老师们几乎不需要任何培训。他们认为他们是在卡片上打字，就像他们使用纸质报告时一样。所有的用户界面都实现了模型，在这种情况下，完美的模型很容易被发现。

我确实做了另外两件事，我知道这对让老师们高兴是必要的，尽管他们从来没有提到过。首先，我安排该系统由运行该学区服务器的人托管，这样它就可以一天 24 小时可用。第二，我要求大量的处理能力，以确保系统不会过载。有三个高端服务器，一个用于数据库，两个用于应用程序，前端有一个漂亮的负载平衡器，将 web 请求发送到负载最小的应用程序服务器。这被证明是矫枉过正，但是 IT 部门没有人在意。他们对幸福的定义是一堆毫无意义的麻烦报告。

这听起来像一个大获成功的情况，对不对？它*做*？满足几百个整天和小怪物打交道的被欺骗的德州老师？与其说是扣篮，不如说是三分球！只有*看起来*简单，因为我涵盖了两个基本步骤:识别那些必须满足的人，然后找出如何满足他们。

的确，有些人表达了他们对我正在构建的系统的想法，但我知道其中许多想法，尤其是来自 IT 部门的想法，不会吸引老师。我是一名外部顾问，所以我听取了这些人的意见。但后来我忽略了他们。我只是为了让雇佣我的 IT 主管和老师们满意而工作。其他人都不重要。如果你试图取悦错误的人，这很容易做到，如果他们是你每天都见到的人，你就输了。

(如果你正在使用敏捷方法，你的团队中有一个客户告诉你实现了什么用户故事，如果这个人不能准确地代表需要满足的客户，你就会失败。实际的团队成员往往是 IT 部门的人或产品经理，因为你真正想要的人不在。)

对于 SuperSked 来说，怎样才能让食品公司的 it 部门满意呢？是的，超级间谍，但只是间接的。我们真正的产品是有记录的成本节约，我们有一个博士，公司创始人之一，他全职研究劳动力模型和优化成本带来的节约。我们可以证明年复一年的节约，所以客户很高兴。

所以，就像你必须识别你真正的顾客一样，你也必须识别你真正的产品。然后你的工作就是构建和交付产品，这也是本书的其余部分。

项目有三个维度

软件项目有三个维度。

1.  *需求*:系统会做什么。
2.  *人*:将构建它的开发团队
3.  *进度*:需要多长时间建成。

固定其中两个维度，第三个维度必须相应地调整。如果需求和时间表已经确定，你将需要足够的程序员来完成这一切。如果需求和人都定了，也只能建这么快。如果时间表和人员都已确定，那么只能开发这么多功能。

我试图想出一个有趣的类比来说明这三个维度的不变性。我能找到的最好的是希腊神话中的三个复仇女神。(这只怪物腹背受敌的数量只有两只。)这不是一个完美的类比，但我搜索过的网站`threes.com`上的一句话是正确的:“没有祈祷、没有牺牲、没有眼泪能够感动他们，或者保护他们迫害的不幸对象。。."如果有人告诉你他们有办法绕过需求、人员和时间表，那他们就错了。他们无路可走。

我也见过这三个维度被称为铁三角，类似百慕大三角。重点，我猜是你的项目可以沉入铁三角。

显然，调整尺寸有其局限性。团队只能发展到可管理的规模；过了这一点，沟通和协调的困难开始降低生产力。该系统必须有一些最低限度的功能才是有用的；如果检查者的时间表不能被张贴或报告卡不能被打印，它是没有好处的。日程只能这么长；过了一个点，系统就变得无关紧要，或者成本失控。或者，在我们这个超小型公司的例子中，我们已经耗尽了风险投资。

在这些限制范围内，这三个方面必须共同构成一个成功的公式。试图建立一个过度约束的系统——要做的事情太多，没有足够的人去做，或者没有足够的时间去做——是行不通的。你不能从岩石中提取水。

要求

需求只能通过增加或减少功能来调整，而不能通过调整质量来调整。始终只有尽可能高的质量才是可接受的。缺失一个重要的功能远比让它不可靠地工作要好得多。(几年前，贝尔实验室的某个人评论说，他安装的一个新磁盘驱动器速度非常快，但容易出现数据错误。他的同事回应道:“见鬼，如果它不需要传递正确的数据，我可以做得更快！”)

将更多的人加入团队不会提高生产力，除非他们是顶尖的执行者；如果不是这样，就会降低生产率。让团队保持小规模并支付他们每个人应得的报酬要好得多。你还是会省钱的。因此，人员维度远不如其他两个维度灵活。

因为需求和人员都在那里，任何人都可以看到，所以时间表通常是伪造的。我很快会有更多的话要说。

需求是最难的部分:在项目开始时很难知道它们是什么，它们通常过于雄心勃勃，它们经常没有清晰地表达出来，并且在开发过程中会发生变化。这就是为什么他们有自己的一章。我将在本章的下两节讨论开发团队和时间表。

开发团队

20 世纪 70 年代中期的某个时候，我在贝尔实验室最喜欢的经理 Evan Ivie 参加了一个会议，会上他们讨论了如何衡量程序的质量。人们提出了各种各样的方案，例如计算缺陷的数量，分析代码中的“go-to”语句，以及检查设计文档。最后，Evan 宣布他知道一种即时、简单的方法来确定程序的质量。每个人都屏住呼吸，期待着艾维的启示。“看看是谁写的，”埃文说。

正如选择房子时要考虑的三个最重要的标准是位置、地点和地点一样，预测软件项目成功与否时要考虑的三个最重要的标准是人、人和人。

(*人又*。为了成功，你也必须满足他们。)

程序员的生产力——他们能以多快的速度写出多少高质量的代码——可能会因人而异，比其他任何领域都要多。一名职业网球运动员的发球速度大约是每小时 130 英里，只比我快 50%。一个专业的木匠可以在一天内搭建一套书架，而我可以在一周内搭建一个同样好的书架。但是，一个顶尖的程序员可以比一个平庸的程序员多出 50 倍，很容易，在两个小时内写出几乎完美的代码，而隔壁小隔间的小丑在两个星期内仍然在工作，即使那样也是错误的。

但不仅仅是生产力。顶级程序员可以很快产生一个简单、优雅的解决方案，但是来自一个弱程序员的解决方案无论酝酿了多长时间，都永远不会是好的。你可以通过观察代码来判断它是出自艺术家之手，还是经过几天的锤炼而形成的。在电影《阿马德乌斯》中，萨列里谈到莫扎特时说:“他只是简单地写下了脑海中已经完成的音乐。一页又一页，好像他只是在做听写。”伟大的程序员就是这样工作的。他们似乎在键盘上编程，但他们只是在打字。这个程序已经在他们的头脑中形成了。(这就是为什么我对结对编程持怀疑态度，结对编程是大多数敏捷过程的组成部分。)

我所说的这种顶级程序员非常罕见，而且你也不会找到很多愿意为你的项目工作的人。在你可以选择的人中，生产率的比率可能只有 10:1。即便如此，这在实践中意味着两个优秀程序员的团队可以胜过十个普通程序员的团队。(实际上，即使十个中包括两个好的，也是如此，因为八个落后者会破坏整个团队。)不幸的是，人们通常被分配到项目中的方式以及他们如何获得报酬的假设比例可能是 1.5:1。差了一个数量级。

排在人、人和人之后的第四重要的东西——良好的设备、开明的管理、敏捷的技术、愉快的工作条件——都不那么重要，以至于在组织一个项目时，你应该把几乎所有的时间都花在人身上。做对了，你就有可能成功；即使你不知道如何运行项目，他们也会。和错误的人在一起，你就完了。

雇佣最优秀的员工

当我第一次成为经理时，我不擅长招聘。我真的不知道该怎么做，所以我只想尽快结束这件事。这导致人们只能勉强接受还可以的人，但不是最好的。想起上世纪 80 年代末和 90 年代初我为自己的公司 XVT 软件雇佣的一些程序员，我就不寒而栗。但是几年后，我读了一本与这部分同名的书，马丁·亚特的《T1:雇佣最好的 T2》，我在这方面做得更好了。

在你开始招聘之前，你需要确保最优秀的人愿意为你的团队工作。如果你的公司陷入困境，你的技术和产品陈旧，你的薪水没有竞争力，你的位置糟糕，或者项目听起来沉闷，你就不会有好的人为你工作。(也许你自己都不应该在那里。)

(如果你不是招聘经理，而是潜在雇员，这对你也很重要。看看现有员工的素质。)

该公司的麻烦和它的位置很难解决，至少不会马上解决，所以你可能不得不忍受它们。你能改变的是技术，工资，以及你如何运作这个项目。

如果出于某种原因，您的组织没有使用最新的技术——过时的编程语言或操作系统，或者糟糕的硬件——是时候升级了。你不能用老方法招募最优秀的人来工作。如果系统运行在 Windows XP 上，就把它转移到 Windows 8 上。用 HTML5、CSS3、JavaScript、Ajax 和 jQuery 编写新的网页。你可能会发现，一些高级经理对新技术望而却步，或者对那些想使用 Explorer 6 和不能运行最新操作系统的旧电脑的客户听得太多，所以你可能不得不抗争。最优秀的人不会全力以赴地研究他们认为落后于时代的技术。如果你最终和那些自己的技术技能已经过时的平庸的人在一起，你就完了。

当我在 2008 年面试一份工作时，在该公司的网页上注意到其产品需要 Windows 95、奔腾 3 和至少 500MB 的内存，我希望这只是更新网页的失败。无论如何，这是一个真正的倒胃口。

薪资也可能需要调整。如果一个程序员的工资上限是 10 万美元，你就雇不到最好的。五个价值 15 万美元的程序员比十个挣 10 万美元的程序员收入高得多。你会有一个更好的团队，也更便宜。一些公司有严格的薪酬结构，不允许程序员比高级会计或营销人员挣得更多。尽你所能改变这一切。也许你会失败，但你必须尝试。如果你不能支付最好的，也许你也不应该在那里。你也是最棒的，对吧？

BMC 软件公司的创始人约翰·穆雷斯提出了一个他称之为“产品作者”的薪酬计划该产品的主要开发者从销售中获得提成。约翰告诉我关于“双逗号俱乐部”的事情，该俱乐部的会员需要一个带两个逗号的年薪数字。他把一辆法拉利借给了他的一个双逗号程序员，让他开着，直到他自己的车来了。正如你可能猜到的，BMC 软件公司取得了巨大的成功，有一段时间，它的员工人均收入是全国同规模公司中最高的。也许你的公司不会采取像 BMC 那样的补偿方案。另一方面，也许你自己已经走得那么远了:你是一名顾问，或者像我一样，在你的网站和苹果的应用商店里销售你自己的软件。(目前为止我只差一个逗号。)

一旦你知道这份工作有吸引力，薪水范围合适，你就可以开始招聘了。关于如何做到这一点的深入讨论超出了本书的范围，无论如何，Martin Yate 的书对此做了很好的阐述。我想在他的技巧中加入一点，那就是查看候选人的投资组合，在这种情况下，这意味着他可以带进来给你看一个不平凡的项目。你可能会被告知，候选人之前的所有工作都是专有的，不能公开。也许是这样，但我对任何值得被称为“最好”的程序员持怀疑态度，他们从来没有在家里自己做过任何编程，即使只是一个带有 JavaScript 的网页。

查看候选人投资组合的一种方式是在小组会议上，但你也可以一对一地进行。你想听候选人解释这个项目，或者至少是其中的几个部分，特别要注意*为什么*事情是这样做的，以及可能会考虑哪些替代方案。如果你了解程序员，你就能很容易地判断出候选人是否真的在他或她的游戏中处于领先地位，或者是一个埋头苦干的人，能够把一个程序组装起来，但没有天生的艺术天赋。这就是你要找的。

我也提出类似这样的问题:要初始化应用程序，需要从一个参数文件中读入一个颜色名称和 RGB 值的列表，总共大约一百个，并对它们进行排序以便以后显示。应该使用冒泡排序、插入排序还是快速排序？

两种类型的答案是错误的:表明候选人对排序算法一无所知，或者坚定地说快速排序是最快的。最好的答案是这样的:*我会使用编程语言库中的任何函数，或者，如果没有函数，就使用冒泡排序，因为这是我第一次尝试最有可能成功的函数。对于如此小的列表，初始化期间的效率是无关紧要的。*套用老查理金枪鱼广告的话，你不想要排序最快的程序员，你想要排序最快的那个。

或者，这个问题:我们有一个报告生成功能，可以进行数据库查询并编写一个包含结果的多页 PDF，但是客户抱怨运行时间太长。你会怎么解决？

在这里，您希望听到包含以下内容的答案:确定多长时间是太长，重现问题以便进行实验，检测系统以便可以识别瓶颈，运行实验以查看即使在理论上是否有可能加速，然后估计修复问题的成本，以便可以决定是否继续。潜在的解决方案，比如改进查询、添加索引或者提供排队功能，这样用户就不必等待结果，也是很好的选择。你主要是想了解候选人是如何思考的。

你不想听到的是数据库需要索引，MySQL 是错误的选择，或者任何表明候选人已经得出结论的简单陈述。当然，你也不想听到候选人不知道如何继续下去。

我的观点是:少花点时间在教育成就、以前的职位和过去的项目上，多花点时间在应聘者如何对待工作上。这需要真正深入的采访，而不是午餐时的闲聊。

时间表

调度是所有管理任务中最令人害怕和不被尊重的。也是被误解了。时间表的目的不是预测未来的事件，也不是提供一种鞭策装病者的手段。计划的目的是

*   强制仔细查看所有要求，以及
*   迫使团队想出至少一个可能成功的场景，并且
*   保持开发以稳定的速度运行，以及
*   为组件开发的精细程度设定一个界限。

我可以用一个例子来解释我最后一点的意思:假设你的任务是在三天内实现一个数据导出工具。您可能希望提供一个基本的过滤功能来选择数据，一个简单的预览输出的方法，并且可能选择逗号分隔值(CSV)或制表符分隔的输出格式。现在假设你有两个月的时间去做导出模块。您希望开发一个更复杂的查询工具，一个更广泛的输出选择，可能包括 XML(可扩展标记语言)、SQL(结构化查询语言)，甚至 RTF(富文本格式)，以及一种将导出规范存储为预置以供以后调用的方法。

它们都是出口设施，没有本质上的对错。客户可能想要更好的，但是，如果你知道这只是三天的工作，你会告诉客户这只是一个最小的设施，他或她也会很高兴。由于这是一个外围功能，除了数据库之外，与系统的任何其他部分都没有真正的联系，所以您可以在将来的版本中用更有雄心的东西来替换它。

另一方面，如果时间表要求在三天内完成转换，就需要有人站出来说话。对于大多数现实世界的系统来说，这是远远不够的。如果你只有三天时间，那么成功的可能性就不存在。

如果不遵守时间表，那么制定时间表又有什么意义呢？因为时间安排的练习将迫使团队仔细检查每一个需求，以确保他们理解范围。当试图安排时间时，各种模糊性都会得到解决。

在实践中，严格遵守时间表，并在现实表明它是错误的时候改变它，保持开发的速度，就像一个准备比赛的跑步者为他或她的训练跑计时一样。没有一个时间表，当程序员因为系统的其他部分没有被开发而不能集成他们的工作时，他们会分心或沮丧。时间表是交响乐指挥的指挥棒，帮助每个人同时演奏同一首曲子。

安排不可知的事情

日程安排有两个主要困难。

*   你不知道这些要求，而且它们随时都有可能改变。
*   即使你知道一个需求，也很难预测开发它需要多长时间。

和两个较小的困难。

*   程序员的生产率差异很大(根据我的经验，是 10:1)。
*   程序员的大部分时间花在非项目任务上，比如客户和销售支持、HR(人力资源)会议、培训、休假、生病和探索新技术。

但是你不能让这些问题阻止你安排时间——这太重要了。你还是要做。

的确，你不知道需求，而且它们会在开发过程中发生变化。但是不知道细节和完全不知道要做什么是有区别的，不知道细节可能不会对时间表有太大影响。

这里有一个例子:假设您知道您将需要大约 10-15 个报告，这些报告都采用数据库查询的形式，将结果格式化为网页上的表格，并将数据下载为 CSV 文件。您可以用一周的时间来构建整个模板，用一天的时间来完成每个报告，总共需要四周的时间。这可能很高，但很安全。如果你知道做这项工作的程序员是一个杰出的人，那就把它减少到每份报告四分之一天，总共两周。所以，不管怎样，都要两到四周。不是一周，也不是两个月。您完全不知道这些报告中到底需要包含什么内容，您将在工作即将开始时与客户一起解决这些问题。

另一个例子:你正在为一个图书馆做一个项目，一个重要的功能是根据借书人读过和喜欢的其他书来推荐书籍。(就像网飞对电影做的那样。)你应该安排什么？一周？两个月？三年？你不知道。然而，日程安排的不确定性暴露了这是一个主要的技术风险，也可能是一个主要的开发工作。所以，你马上找一两个最聪明的人来研究什么是可用的，建立一个原型，并向客户展示。这可能需要一个月的时间，但是任何有风险的事情都必须马上去做。如果你需要增加三个月的时间来完成这个项目，在项目开始时告诉客户比在大型图书馆国际贸易展前一周告诉客户要好得多，这样会给你的客户留下一个华丽的展位，里面没有任何东西可以展示。

因此，您总是基于您确实拥有的需求进行计划，但是您将该计划限定为基于松散定义的需求。随着需求变得更加具体，您可以细化时间表。

第二个问题，不知道开发需要多长时间，比较好处理。挑选一两个对手头项目最有经验的程序员，让他们估计*他们*完成需求中的每一项需要多长时间。对于非编程任务，选择有这些技能的人。估计可以用半天，假设半天是四个小时。确保每项任务都包括在内:文档、培训开发、测试、本地化，以及一个完整产品所需的一切。

任务应该被标记为三种类型中的一种，这取决于它们被估计的准确程度。

*   类型 1 任务类似于以前做过的事情，所以它们的实现时间可以相当准确地预测。
*   第二类任务是新的，但是很容易理解如何去做。
*   第三类任务是那些需求不明确或者实现方法未知的任务，对它们的估计都是瞎猜。

接下来，将生产力因素应用到评估中，因为你为评估挑选的顶尖人员很可能高于你的团队的平均水平。2 到 4 倍的倍数可能是有意义的。

然后算出一天有多少实际工作时间。如果有技术支持和其他非项目职责，可能只有四个。如果是新项目，图六。七个或更多可能太乐观了。假设每周只有 40 小时。

所有类型 2 的任务得到 1.5 倍的额外系数，因为估计是粗略的，所有类型 3 的任务得到 3 倍的系数。当然，你并不真的知道这个系数是 3 倍，但这是个不错的开始。

把所有这些加起来，你就得到了需要的天数。假设一年大约有 46 个工作周(52 个减去假期、假日和疾病)，你已经得到了交付日期，假设工作被分配，每个人都一直很忙，没有人在等其他人。(以数据库为中心的设计在这里很有帮助，我将在本章后面解释。)

不喜欢我的算术？好吧，用你自己的。关键是你应该使用某种方法来得出实数。这项工作的好处是巨大的。许多问题将会被提出，其中许多将不得不留到以后回答。知道自己不知道的事情，比一头栽进沙子里跌跌撞撞要好得多。

时间表中的任何类型 3(瞎猜)任务都会使它变得非常不准确，所以最好的办法是将项目分成两个阶段:原型阶段，其中类型 3 任务被简化为类型 2(但除了作为原型之外，没有实际实现)，然后是实现阶段。宣布实施时间表将仅在原型阶段之后创建。这样，你就不会在胡乱猜测的基础上引用一个交付日期，然后又不得不修改它。

原型阶段的目的不仅仅是帮助计划。在项目开始时解决高风险的设计问题对于开发也是有意义的。你不知道探索这个未知领域需要什么资源，也不知道他们的设计会对系统的其余部分产生什么影响。这样大的扰动应该尽早到来。

(在电影《教父》中，汤姆·哈根听到制片人杰克·沃尔兹拒绝让约翰尼·方丹出演角色后，他起身离开，并说:“柯里昂先生是一个坚持马上听到坏消息的人。”作为一名经理，我也坚持这一点。别担心，我从没杀过赛马。)

当您到达实现阶段时，您只有类型 1 和 2 的任务。第二类任务安排得不太准确，所以把它们移到前面。然后，随着项目的进展和时间表的修改，它会变得越来越准确，因为你面前的工作比计划时已经完成的工作更为人所知。此外，随着项目的深入，您对团队的生产力有了更多的了解，因此时间估计也更加现实。

总结一下:您从一个不准确的时间表开始，但是一个基于反映完成项目所需的所有任务的详细结构的时间表。在原型阶段之后，你宣布时间表。随着项目的进展，您会修改它，并且随着每次修改，它会变得越来越精确。

如果你这样做，团队看起来会很好，特别是如果他们已经公开了最初几个时间表背后的不确定性。即使最后的日期不得不推迟——考虑到我所有的捏造因素，它可能不会——当你还有六个月的时候，推迟一两个星期也是可以的。当一个交付日期在没有通知的情况下被吹了，团队看起来很无能。当团队试图通过延长工作时间、减少测试和在编码上偷工减料来弥补失误时，就会发生这种情况。以正确的方式安排时间，那就没有必要了。

如果你发现自己在一个期望时间表是不可动摇的承诺并责备开发人员的组织中工作，确保你记录了在整个项目中将发生的所有需求变更。然后，您可以将每个进度变更与导致它的需求变更联系起来。如果这是你工作的地方的政治，你就必须玩这个游戏。

调度示例

世界事务会议(CWA)聚集了来自世界各地的大约 100 名演讲者，参加关于政治、艺术、商业、科学、人类事务等各种话题的小组讨论。在过去的 65 年里，它每年春天都在博尔德的科罗拉多大学举行。直到今年我为 CWA 建立了一个 PHP/MySQL 系统，该组织一直用 Excel 电子表格、文本文件和一个只在助理协调员的电脑上运行的 FileMaker 数据库来跟踪与会议有关的一切。

[图 1-1](#Fig1) 显示了一个大大简化的进度表，用 Microsoft Excel 为 CWA 系统的一部分构建。类型 1 项(101 到 106)是表单，每个数据库实体一个表单。

![9781430260073_Fig01-01.jpg](images/9781430260073_Fig01-01.jpg)

[图 1-1](#_Fig1) 。时间表示例

报告(107 到 110)是类型 2，因为它们都需要从 PHP 生成一个 PDF，为了这个例子的目的，我将假装我以前没有做过。第三类项目是关于两个我完全不确定的部分:一个是自动分配来访小组成员的方法，另一个是确定每个小组成员的发言时间是否分配合理的方法。(我真的没有做这两件事，但让我们假装我做了。)

这些列基于上一节中的调度方法。假设我知道自己在做什么，那么*半天*栏反映了我认为自己能多快完成每项任务。 *Avg。产品。假设我的速度是普通程序员的两倍，那么专栏将对它应用一个 2 倍的因子。*风险调整*栏对第 2 类项目采用 1.5 倍的系数，对第 3 类项目采用 3 倍的系数(因为我不知道自己在做什么)。*

请注意 3 次输入扩展了多少，一直扩展到 36 个半天来完成住房分配项目。也许时间太少了。也可能是三倍太长。这是 3 型，所以我们真的不知道。

这个模型告诉我们的是，在类型 3 的项目原型化到成为类型 2，甚至类型 1 之前，我们不能真正地提出一个时间表。因此，在计划工作时，这两个项目将是首先被攻击的。直到有一个让客户满意的工作原型，项目才处于原型阶段，并且没有正式的时间表。当这些项目有了详细的设计，或者更好的是，有了可以实际试用的工作原型，实现阶段就可以开始了，同时还有第一个工作时间表。

项目失败的原因

为什么很多项目都会失败？

有两种主要的失败:当项目在完成之前就被扼杀了，当项目完成了但是没有完成它需要做的事情。第二类是未能激发市场现成销售产品，但这更可能是营销失败，而不是开发失败，虽然我很想谈论它，但它远远超出了本书的范围。我们是技术人员，所以我只处理技术问题。

一个项目在它的时间之前就被扼杀了，因为它已经耗尽了它的资金，有权终止项目的管理层已经对它失去了信心，或者这个项目本来要做的任何事情都不再需要了。最后一类是 20 世纪 70 年代贝尔实验室的一个项目，建造一个机器人自动化主配线架(AMDF ),可以管理电话中心局的布线。该项目实际上进行得相当顺利，但与此同时，贝尔实验室的另一个小组已经开发出了电子开关。电线变得过时了，所以不再需要机器人来连接它们，AMDF 项目被终止了。

但是让我们面对它，在大多数情况下，一个仍在开发中的项目的死亡是一种安乐死。进展是如此糟糕，演示是如此令人不安，以至于它的预期客户不再相信它会在任何合理的时间框架内以任何合理的金额完成。

第二种失败是，一个完成的项目没有让客户满意，这可能更常见，但不容易识别，因为，只要它工作，客户的抱怨可以通过一系列的维护版本来解决。结果可能并不美好，但随着时间的推移，这个体系可以发挥作用。大概 90%的内部系统都是这样的。他们的发展是创伤性的，在第一年左右的时间里有一些问题，但是现在每个人都已经习惯了，他们只是机构景观的一部分。

然而，如果它是现成销售的商业产品，如果它是蹩脚的，它就不会销售。如果公司要生存下去，技术人员必须做得更好。

嗯，这些可能是有趣的分类，但是真正的原因是什么呢？史蒂夫·麦康奈尔是优秀书籍 *Code Complete* 和*Rapid Development:Taming Wild Software Schedules*的作者，他在`stevemcconnell.com/rdenum.htm`列出了更完整的 36 个经典错误。

我将在这里列出我自己的更短的列表，大概是按照它们出现频率的顺序。

较差的要求

随着开发的进行，演进需求是可以的，甚至是更好的，但是它们必须汇聚到导致成功的东西上。如果对需求的追求永无止境地循环而没有越过终点线，或者没有瞄准市场想要购买的东西，那么需求过程就是有缺陷的，对于不知道他或她真正想要什么的客户，再多的抱怨也不能扭转局面。这个项目失败了。

下一章会有更多关于需求的内容。

弱队

没有人想说开发团队的人不够好。他们最接近的说法是这些人没有得到足够的训练，这可能是真的。但是，让我们面对现实吧，人们有时就是没有才华或者经验不足，或者两者都有。正如我前面说过的，和最优秀的人在一起，无论如何你都可能会成功，因为最优秀的人会尽一切努力去成功。和错误的人在一起，很难看到你能取得成功。

未能建立高风险特征的原型

你不能就这么一头扎进去，假装那些高风险的第三类特征是正常的。当团队不顾一切地试图让系统按照承诺的方式工作时，项目会因为过于接近交付日期而陷入困境，这是一个真正的危险。正如我所说的，高风险的任务必须首先被攻击，而不是被推迟，以便团队可以通过采摘低挂的果实来显示早期的，但误导性的进展。(我想起了 1993 年，当运行自动行李处理系统的软件被调试时，完全完工的丹佛新机场推迟了一年半才开放。这一部分早就应该完成了。)

糟糕的设计

设计是获取需求并提出实现这些需求的蓝图的过程，有点像建筑在建造建筑物中的作用。如果设计不好，即使需求是正确的，设计的实现是完美的，项目也会失败。

在我看来，许多系统根本就不是设计出来的。程序员获取他们拥有的需求，如果他们使用敏捷方法，可能只需要一周的时间，然后开始编码。即使有，也很少项目中有人拥有应用程序设计者的头衔。的确，有用户界面设计师，但用户界面只是设计的一小部分，正如门把手、电梯按钮和 HVAC 控制只是建筑的一小部分。

糟糕的开发过程

即使有一套好的需求，如果开发过程很糟糕，项目也会陷入大麻烦。其中的罪恶有

*   等到开发后期才集成组件。
*   单元测试不充分，导致集成失败和大量时间浪费。
*   模块分配给人的方式很差，没有清晰和最小的界面。
*   笨拙和/或频繁变化的数据库模式。
*   草率的编程习惯，在代码遍历期间没有得到纠正。
*   覆盖有缺口的系统测试。
*   没有通过频繁的演示和 alpha 版本吸引客户。

改变了优先级

20 世纪 70 年代我在贝尔实验室时，这是项目的杀手。一个项目开始了，人员配备水平只有贝尔实验室的所有者能够负担得起，然后几年后因为技术进步(我已经提到过 AMDF 项目)，更重要的项目需要人员，或者经济变化而终止。也许另一家公司在开始一个前景如此可疑的项目之前会考虑得更仔细一些，但在那个年代，在& T 是一个受监管的垄断企业，不必监督其开支。

如今，优先级的改变很可能意味着风险投资的枯竭。

破坏

破坏是经理故意扼杀项目的企图，通常是秘密进行的。一种常见的情况是，从未支持过项目的人替换了经理。这种以及其他形式的公司内斗超出了本书的范围；我在这里列出这种情况只是为了承认这是很常见的。

管理项目

根据定义，*管理*是利用资源来完成目标。在一个软件项目中，目标是满足客户，在日常工作中，它的代理就是需求。资源主要是人，尽管设备和外部服务也可能参与进来。

管理有很多，但是，有五个必要的任务，如果做得正确，将导致成功。前三个反映了我前面讨论的三个维度。

1.  防止需求不必要的扩展。
2.  让合适的人加入团队。
3.  密切监视时间表，并在必要时进行更改。
4.  确保所有的工作都分配好了。
5.  让人们愉快地专注于他们的任务。

就这样！做到这五点，如果需求正确，项目就成功了。任何一项失败，项目都会失败。

我已经解释了为什么前三个任务如此重要，我将在第二章中对需求做更多的说明。

令人惊讶的是，经常被忽视的任务 4 是确保你开发所有可交付物的*。人们很容易被管理编程的复杂性所困扰，而忘记了更普通的需求，如文档、培训、安装和支持。任务 5 是确保你确实执行了你通过做前四项任务而制定的计划。程序员因偏离他们的主要任务而臭名昭著。更重要的是，你必须让他们开心，否则他们的生产力会一路下降到零，甚至可能是负数。*

我一直小心翼翼地使用“管理”这个术语，而不是“经理”所有的项目都必须有管理，不管多小；没有它，资源就不能用于实现目标。对于一两个人的团队，没有必要指定其中一个人作为经理。但是三人以上的团队需要知道谁是老大。通过一致意见来决定事情的效率太低，而且有失去通往目标之路的风险。半打以上的人，还需要有一个专职经理。

但是，不管你怎么安排，这五项基本任务必须完成。你可能会说，对于一个协作的、无我的、面向团队的方法来说，时间表和工作分配是不必要的，但我不同意。我认为这导致了必然的失败:一个晚期的项目，带有不受欢迎的工作，例如转换、文档或培训，没有完成或随意完成。

下面是我如何为超级超市的收银员调度软件 SuperSked 做事。当我被请来管理工程时，他们已经花了一年的时间烧完了 50 万美元左右的风险投资，这笔投资本该让他们获得一个 Windows 版本的系统，而这个系统原本是为面向字符的 UNIX 终端开发的。一年后，他们完成了一个花哨的面向对象的用户界面框架，除此之外别无其他。我同意再拿 25 万美元左右的风险投资，并在大约 6 个月内完成这个系统。如果我失败了，插头就会被拔掉，公司就会倒闭。

因此，在需求、资源和进度这三个维度中，有两个已经确定了。实际上，需求也是如此，因为新系统必须完全取代旧系统，这意味着它必须提供与旧系统相同的需求预测、遵守工会规则、成本优化和打印时间表，但在 Windows 上。

我认为这是可行的，就签约了。大约有八个人在开发，包括一个从事优化算法的数学家和一个测试专家。新 CEO 和我解雇了三名技术能力足够强的人，但他们花了太多时间争论现有系统是否在正确的轨道上。经过一周左右的学习，我扔掉了他们花了一年时间编写的 100%的代码，但保留了数据库设计，这非常棒。我雇了两个程序员，一个是以前的同事推荐给我的，一个是报纸广告上的。

列表上的任务 1 和 2 到此结束:人员和需求。

我知道时间表的终点，但不知道中间点。因为我们还有六个月的寿命，我计划了四个月的开发，给我们一个月的时间进行系统测试，一个月的时间处理不可预见的问题，根据定义，这是无法计划的。

所以，我尽我所能绘制出这个系统，并把工作分成 16 个每周部分。当然，我们并没有严格按照计划行事——从来没有人会这样做——但是我必须说服自己，这个问题有一个解决方案。任务 3 完成。

然后我单方面地分配工作。在其他项目中，这将通过协作来完成，但没有时间这样做。我只是告诉人们我想让他们做什么。这是任务 4。

有了这些，我唯一的管理工作就是任务 5，让每个人都集中注意力。我在每周例会上做到了这一点，我们在房间里走来走去，这样每个人都可以很快说出自己在哪里。我们还要维护现有的系统，所以客户的问题也摆在了桌面上。

每周例会通常会产生一些需要我进一步关注的问题，我会私下拜访相关人员来解决。一条严格的规则是，我们在每周例会上从不讨论任何事情。他们只是为了地位。他们从未超过半小时。

团队中的许多人已经习惯了拖拖拉拉的会议，在这些会议上，人们试图就某个问题做出决定。我在第一次会议上解释说，我只想要地位，但这并没有马上流行起来。该公司的创始人之一 Seth(化名)开始喋喋不休地谈论他试图找到他正在做的事情的解决方案。以下是随后的对话:

我:“塞斯，别说了。”

赛斯:“我在解释我一直在做的事情。”

我:“我知道，但这是一个状态会议。只需告诉我们它是已完成、正在进行还是尚未开始。”

赛斯:“正在进行中，但我需要解释一下，它变得复杂了。”

我:“Seth，你把这和人们谈论的会议搞混了。不是的。在这个会议上，几乎所有的发言都由我来做，轮到你的时候你也可以发言，但你只能说三件事情中的一件。”

大家:嘲笑我的讽刺。幸运的是，塞斯也在笑。

赛斯:“进行中。”

我:“很棒的报告。下一项？”

许多年后，我遇到了测试专家，她告诉我她多么喜欢这个项目。我告诉她，我可能表现得像一个讽刺的混蛋。她不同意，告诉我我是他们有过的第一个真正管理的经理；他们厌倦了失败，而且，他们都认为我的讽刺很有趣。(是；我很擅长这个。)

顺便说一下，我们按时交付了新系统，客户很喜欢它，该公司被卖给了同一行业的一家更大的公司，十年后该公司的产品仍然很好。对投资者来说，更重要的是，在吻别之后，他们拿回了自己的钱，甚至更多。我继续前进，但我认为创始人塞思仍在那里，他所有的股票都完好无损。

这是我方法的另一个例子，这次是在我去的下一家公司，也有麻烦。一个叫 Brian 的程序员开始让数据库管理员恼火，因为他卷入了性能和备份之类的数据库问题，甚至与他的工作毫不相干。我请他到我的办公室来。

我:“我知道你已经开始帮忙处理数据库了。”

布莱恩:“是啊。真的没做对。我很乐意帮忙。”

我:“你还记得你的作业吗？”

布莱恩:“当然。web 更新页面。”

我:“所以，这就是我要你做的。就那样。”

布莱恩:“我正在做。但我也认为我应该在力所能及的地方为其他事情做出贡献。”

我:“绝对的。你可以做任何你认为最好的事。完全由你决定。我无权干涉。”

布莱恩:开始紧张地微笑。

我:“这里只有你不行。在这里，你只能做你的作业。”

布莱恩明白了:“所以。。。我来更新网页。而不是数据库。”

我:“那就好。谢谢你。顺便说一句，它看起来真的很好。”(不知道这是不是真的，但我希望他开心地离开。)

你可能会对我的独裁风格感到震惊，但是考虑到我们董事会强加的限制，我打算最多花两分钟让这个优秀但心不在焉的程序员回到他的任务中。

另一个重要的监控任务是确保由不同的人开发的各种组件能够组合在一起，并使用最新的数据库模式。如果系统需要构建，它应该每晚自动构建。(PHP 程序通常不需要构建，只需要将文件放在服务器上适当的目录中。)已经开发的任何自检系统测试也应该运行。团队中的每个人每天早上都应该收到一封电子邮件，告知结果。如果有任何问题，修复它是当务之急——在系统集成并通过自检测试之前，不应进行任何进一步的开发。

分工

他是松树，我是苹果园。

我的苹果树永远也过不去了

我告诉他，吃他松树下的球果。

他只说，“好篱笆造就好邻居。”

——罗伯特·弗罗斯特，*修补墙壁*

一个有很多交流的项目是一个令人愉快的项目，但是很少的交流应该是关于组件之间的接口。界面需要简单、最小和稳定。一旦建立，如果有更多的关于他们的讨论，事情是非常错误的。但是，如果接口是正确的，系统将顺利地集成，并适应变化，而不会失去其结构完整性。

组件之间的接口也应该是开发团队成员之间的接口。这使得开发人员可以按照自己的节奏和最有意义的顺序工作。糟糕的界面——泄露太多信息的界面——导致开发人员不得不等待对方完成工作，并导致已经完成的工作被重做。

这并不是说团队不应该每天都有重要的事情要谈。谈论每夜构建和测试的结果，关于客户不断发展的需求的新见解，以及可以从团队工作中受益的技术问题是很好的。但是经常说接口就不行了。他们需要稳定到无话可说。

利用数据库中心性

我几段前提到的那个 SuperSked 应用程序是我管理的第一个以数据库为中心的项目，有两三个人以上参与，开发进行得非常顺利，尽管应用程序本身相当复杂。几乎没有集成困难。通过测试发现的错误很快被识别和修复。

我们做了很多正确的事情:一个了不起的开发团队，充分理解的需求(它是现有系统的替代品)，以及一个紧凑但合理的时间表。但是项目组织的另一个方面真正起了作用:所有的组件只与数据库对话。他们完全从用户(通过表单)或数据库获取数据，并将结果存储回数据库。组件之间从不直接对话。

测试基于从现有系统的客户那里捕获的数据库快照，然后使用相同的转换程序转换到新的数据库，这些转换程序后来成为已部署系统的一部分。一个组件可以独立运行，因为它需要的一切都在数据库中。(一些组件需要一些数据输入。)那么数据库中的结果可以容易地被检查。如果有什么问题，那一定是组件本身的问题，因为这不可能是接口问题。

好消息:PHP/MySQL 应用程序，这本书的重点，提供了完全相同的优势。然而，为了利用这一优势，您必须将每个组件——每个表单、报表和业务逻辑模块——设计为只与数据库接口。

组件开发人员和数据库设计人员之间有很多交流，尤其是在项目开始的时候，因为模式很复杂，有很多微妙之处。但是一旦这个模型被很好的理解了，即使是这些对话也几乎停止了。

下面是一个组件如何只与数据库接口而不是直接与数据库接口的示例:安排检查程序的第一步是根据一年中的时间、一周中的日期、是否有假期、预测的天气以及其他一些因素来预测需求。第二，必须确定劳动力的可用性，这取决于工作时间表、工会规则、培训(不是每个人都能处理快速注册)等等。这两个初步步骤的结果然后被输入到一个非常先进的优化算法中，该算法计算一段时间，可能是 10 或 15 分钟，然后咳出一个时间表，然后被安排到各种报告中，包括一个张贴在员工公告栏上的报告。

显而易见，要做的事情是找到一种方法，例如使用 XML，将预测和可用性模块连接到优化器。我们没有那么做。我们让他们将数据插入数据库，并设计优化器来查询数据库的输入。这样做的一个巨大好处是，从事优化器工作的程序员可以继续在相同的输入上运行它，而根本不用处理前面的模块。而且，一旦从事这些工作的程序员验证了数据库中的数据是正确的，他们就完成了。不需要实际运行优化器。

对于从事遗留系统工作的程序员来说，数据存在于内部巨大的 Fortran 风格的数组中，将所有这些数字写入数据库的想法看起来非常奇怪。但是，一旦完成这项工作的函数被编码，工作就完成了，他们再也不用处理接口问题了。

将组件分配给人员

许多 PHP/MySQL 项目非常小，可能是因为大型企业开发倾向于使用更高级的技术，如 Java EE 或. NET。我没有具体的数字，但我猜一半的 PHP/MySQL 项目是由一两个人完成的，四分之一是由四个人或更少的人完成的。所以，工作通常只分成几种方式。

对于任何 PHP/MySQL 项目，以及大多数其他项目，开发工作的类别都是

1.  数据库设计和实现，
2.  CRUD(创建、检索、更新、删除)网页，
3.  业务逻辑(例如，安排超市收银员、递送路线、计算发票)，
4.  报告和其他产出，
5.  转换，
6.  系统测试，
7.  文档，以及
8.  训练。

如果有两个人，一个人负责数据库、转换和报告，因为这几乎是一个独立的应用程序。一旦数据库加载了转换后的数据，就应该有足够的数据来测试报告。另一个人可以做 CRUD 和业务逻辑。系统测试、文档和培训可以按照你认为合适的任何方式分开。

对于三个人来说，如果业务逻辑很复杂，就像 SuperSked 的情况一样，那就是一份全职工作，其他工作可以像两个人一样分开做。

如果超过三个，将数据库和转换结合起来仍然是有意义的，因为转换暴露了数据库需要能够建模的太多内容。此外，一旦设计并实现了数据库，它就不再是一项全职工作。其他组件可以根据它们的复杂性和团队成员的技能来划分。

请记住，无论您如何分配组件，它们只与数据库接口，而不会相互接口。

职场

组织一个项目的一部分是组织一个工作场所。

就技术而言，对于 PHP/MySQL 项目，物理位置并不重要。在您自己的计算机上建立一个开发系统并把文件发送到开发服务器进行集成是很容易的。你不需要任何特殊的硬件；任何运行 MacOS、Windows 或 Linux 的笔记本电脑或台式机都可以。

如果每个人每天都来办公室，项目的运作就会容易得多。电话、Skype、短信和电子邮件都不能代替面对面的交流。也许最大的区别是，只有当你知道你有事情要谈的时候，你才会开始电子交流。相比之下，面对面的交谈会带来意外的交流。例如，一个程序员可能会对另一个程序员说，“我忽略了你关于连接人员和状态表的讨论。我很确定已经有了一个观点。”或者，经过某人的桌子，瞥了一眼他的显示器，“你怎么能让菜单这样工作呢？jQuery UI，还是自己卷的？”这些互动不太可能发生在每个人都在家工作的情况下。

是的，有关于超级碗，钓鱼旅行，以及谁将取代老板的谈话，他们只是浪费时间。大多数远程工作者会说他们在家更有效率，他们可能是对的。

我两种方式都做过，每个人每天都参与工作的项目更容易管理，士气更高，并按计划进行。让程序员保持专注是五个必要的管理任务之一，正如我之前所说的，如果程序员自己离开了，这就更难做到了。不是不可能，只是更难。

因此，如果这将是一场势均力敌的比赛，每场比赛都至关重要，就像超级任务项目一样，每个人都需要在场上。

另一个工作场所的问题是，如果有办公室，是有私人办公室、小隔间还是一个大的工作区。如果每个人都在同一个房间里，就很难集中注意力，尽管这可以创造一个非常有创意和刺激的氛围。如今，对于大多数公司来说，私人办公室几乎总是过于昂贵。所以，它将会是小隔间，有严格的关于谈话和其他吵闹的追求的规则。

程序员可以花些时间在休息室是个好主意。它为盯着屏幕的人提供了喘息的机会，也为那些偶然的对话提供了肥沃的土壤。无论如何，安装一个足球桌；这至少会给你的新兵留下深刻印象。

问题跟踪

随着项目的进展，团队必须跟踪需求的变化、测试中发现的错误、要解决的设计问题、各种要做的事情等等。我把它们都叫做*问题*，并把它们输入数据库，这样它们就不会被遗忘。

找到您喜欢的具有以下属性的系统:

*   足够灵活，可以处理各种问题，不仅仅是 bug，还可以充当客户支持系统。
*   允许你定义你自己的项目、子系统、人员、状态、严重性、优先级和所有你想要的属性。我见过的大多数系统都可以做到这一点。
*   有一个网络界面。不管你使用什么平台，如果有一个本地应用程序也没问题，但是网络界面允许通用访问。
*   使用一个可以用 PHP 访问的数据库，这样你就可以根据需要编写自己的实用程序。

在过去一年左右的时间里，我一直在使用 FogBugz ( `fogcreek.com/fogbugz`)来支持我自己的软件产品，它可以做前面列表中的所有事情。它对一两个用户是免费的，对于更大的群体，每个用户每月 25 美元。(免费版没有数据库访问。)你可以在自己的服务器上安装其他完全免费的替代软件，比如 Bugzilla ( `bugzilla.org`)或 HESK ( `hesk.com`)，但你必须花时间安装并运行它们。我发现 HESK 的安装是由我的虚拟主机公司(A2 Hosting)自动完成的，所以我后来改用了它。这是一个 PHP/MySQL 应用程序，这意味着你可以用自己的 PHP 程序轻松访问数据库，我将在第二章的[中展示。](2.html)

你用什么系统并不重要，重要的是你用它来解决所有问题，所以只有一个地方可以看。电子邮件、纸片、短信和口头评论都应该输入到问题跟踪器中。

如果您直接与客户合作，请考虑让您的客户访问问题跟踪器。这样做的缺点是它提供了太多的细节，可能会让客户不必要地担心对开发人员来说是无关紧要的事情。“建筑因为缺少头问题而被炸毁”或者“严重崩溃，需要重新生成”并不是什么大问题，但是对于外行人来说，它们听起来可能是不祥之兆。也许提供及时的报告更好，可能在一个网站上，每天晚上可以自动更新。

被确定为真实且需要关注的问题应由整个团队至少每周审查一次，以确保没有任何东西被忽略，并且每个团队成员都专注于他或她的任务(本章前面列出的管理任务 5)。仅仅通过电子邮件分发名单是不够的。一个问题需要单独讨论，即使只有一两秒钟。如果你能旁听我的一次会议，你会听到类似下面这样的话:

领导:“1478。”

鲍勃:“成交。”

领导:“1492。”

简:“成交。”

领导:“1501。”

玛丽:“正在进行中。需要讨论。”

领导:“1504。”

汤姆:“成交。”

然后在点名结束时，任何标记为需要讨论的问题都可以讨论。当整个团队都在房间里时，你不希望花超过一两分钟的时间来谈论一个可能只涉及几个人的问题，所以在这么短的时间后，应该离线讨论。如果情况紧急，经理可以去见相关人员。如果没有，它将在下周的会议上再次被提出。

既然已经完成了为什么还要调出 1478 期？这不是已经记录在问题跟踪器中了吗？是的，但是鲍勃应该有机会大声说出来。他不能发表演讲——毕竟只是小小的 1478 年——但他有两秒钟的发言权。

法律事务

就像我在本章开头所说的，你的目标是让你的客户满意，如果你这样做了，你就可以避免法律上的麻烦。尽管如此，还是有一些具体的事情需要你关注。

有书面合同

在不同的时候，我的三个朋友请我帮助他们解决与咨询客户的纠纷。一个是关于准备培训课程的复杂付款公式，一个是关于专利所有权，一个是关于软件权利。这三家公司都有一个共同点:没有书面合同。我不是说没有律师起草的文件；我的意思是根本没有写下来。

我不知道为什么会这样。也许他们认为书面合同需要律师，他们不想要这笔费用。也许他们仓促上马了这个项目。也许有一方希望日后能够灵活地退出交易。无论如何，你不应该落入那个陷阱。把它写下来。

合同中需要包含哪些内容？嗯，他们说记者应该写*谁*、*什么*、*哪里*、*什么时候*、*为什么*、*怎么*(除了婚礼，他们跳过了*为什么*)。这也是一份不错的书面合同清单。谁将为谁做这项工作，这项工作是什么，系统将在哪里开发和安装，何时交付，以及如何完成。如果你愿意，可以跳过为什么。但是，包括婚礼之后的事情:离婚。说明如何终止合同以及终止后会发生什么。还包括谁拥有什么，这我将在下一节讨论。当然，还有你会得到多少报酬，多久一次。

真的，如果我的任何一个朋友有这份清单，甚至作为一套非律师的要点，他们会避免他们的困难。

你可能会发现自己处于这样一种情况，你认为建议你和你的客户签订书面合同是令人不快的。在这种情况下，不要使用“合同”这个词只需发一封电子邮件，说类似这样的话:“我想我应该回顾一下我们的工作协议，以避免以后给我们的回忆增加负担。”然后继续列出要点，并通过回复电子邮件要求客户确认他或她的同意。电子邮件可能会澄清任何分歧，如果没有澄清，任何调解人/仲裁人都会从中开展工作——med/ARB 是一个非常灵活的流程。法院也可能，但你不太可能走到那一步。

知道谁拥有什么

你将系统交付给你的客户，但是他或她拥有它吗？是吗？以后你能为另一个客户使用这些代码吗？如果它包含了您在项目开始前编写的代码呢？你失去所有权了吗？专利呢？版权？商标？

这一切都被称为*知识产权* (IP)。在我工作过的每个项目中，客户拥有我在向该客户收费期间开发的所有东西。因为工作的性质，我从来没有想过要拥有它。但是，如果你被雇佣去发明一些真正新颖的东西，比如推荐电影的算法，或者安排送货车辆的路线，或者一个社交网站，你最好就所有权进行谈判并写下来。

有几次，我决定开发一些通用软件，用于当前的项目，并保留下来供将来使用。为了发展这一点，我关掉了时钟，当一般化的部分完成时，又把它打开了。这是合同中规定的。

有一个法律术语叫做“雇佣作品”，在版权的背景下，意思是雇佣作品的人就是作者。这通常是你工作的方式，不管你是雇员还是承包商，你都可以把这个条款写进你的合同里。如果你想要任何其他安排，你必须小心，在这种情况下，你可能需要一名律师参与。

无论如何，正如我所说的，在大多数情况下，你应该抛开任何你会从这个项目中得到一些东西的想法，除了你的工资，一个满意的客户，和更多工作的可能性。试图对知识产权提出要求变得非常棘手，而且无论如何，你的项目不太可能产生任何有价值的东西。

如果你认为你写的一些通用代码可能是有用的，你可能会得到一个条款，说你可以在其他项目中使用任何非特定应用的通用代码，而不需要付费。许多客户会同意这一点。如果他们没有，就像我提到的，在下班后做。

在我的一个朋友卷入的专利纠纷中，问题是他希望自己的名字出现在专利上，因为他是发明人，只要专利被转让给他们，他们就没问题。他不同意这一点。如我所说，什么都没写下来。最终，他们以不署名的方式提交了专利*，声称自己是发明者。从法律上来说，我不知道这是否正确，因为这与雇佣工作有些关系。它从未被提起诉讼。他只是生气地离开了。令人惊讶的是，这是*第二次*这个家伙陷入知识产权纠纷，两次都没有书面合同。显然，他不听我的劝告。不过，你应该。*

当心许可证纠纷

应用程序中包含的一些软件既不属于您也不属于您的客户:第三方包，如 PDF 生成库、您调用的可执行文件以及产品附带的 JavaScript 代码，如 jQuery。其中大部分将被某种开源许可所覆盖，比如 MIT、Apache、BSD、GPL2、Lesser GPL (LGPL)或 GPL3 许可，这是我最常遇到的五种许可。还有商业牌照，每个都不一样。

每个许可证都对软件用户提出了要求，从包括版权声明(MIT)到提供你自己的应用程序的源代码(GPL3)到为每一个使用的拷贝支付版税。你最好了解你使用的每个组件的来龙去脉。

如果可能的话，请仅使用麻省理工学院、阿帕奇、BSD 或 LGPL 许可涵盖的第三方软件。商业软件应该被避免，除非它提供的功能无法用其他方式提供。如果你打算将 GPL2，尤其是 GPL3 软件集成到你自己的系统中，这是很危险的，因为它可能会迫使你做一些你和你的客户都不想做的事情:向公众发布你的代码。然而，如果你只是打算连接到它(MySQL)或者在它上面运行(Linux)，你不需要担心。安装必须为此获得许可，而不是软件开发人员。大多数时候，我使用提供 MySQL 和操作系统(通常是 Linux)的商业主机服务，所以对他们来说不存在许可问题。我只是担心我并入 PHP 程序的源代码。

涉及律师

有些情况下你需要律师，比如你想拥有你开发的 IP，但这种情况很少。你通常不需要律师，即使你用了，他或她也不能帮你避免法律麻烦。

原因如下:如果对书面合同有争议，几乎肯定会是关于要开发什么，是否通过验收测试，以及何时交付。所有这些都是你指定的，而不是你的律师。以下是律师起草的合同中的典型段落:

*开发商应作为买方的承包商，被 IRS 定义为 1099 承包商，并应根据功能规范和相关信息(如有)设计、开发和实施应用软件(下称“软件”)，该功能规范和相关信息作为附件 A 附于本协议，并通过引用纳入本协议(下称“规范”)，在本协议中有更全面的规定。*

猜猜谁提供证据 A，你还是你的律师？你的律师根本不知道这意味着什么。作为一名专家证人，我在涉及美国电话电报公司、IBM、微软和其他一些小得多的公司的合同中看到过这种情况。这些大公司使用了世界上最昂贵、最有声望的律师事务所，毫无疑问，他们让非常合格的律师负责这些账户。但是没有一个律师知道什么是操作系统内核、非统一内存架构、虚拟设备驱动程序或危险废物清单。然而，这就是战斗的意义所在。

所以你的律师会收取你每小时 300 美元(或更多)的费用，但不会让你远离麻烦。如果你需要任何特殊的法律性质的东西，比如涉及知识产权的东西，请找律师，但是技术问题你得自己解决。

获得报酬

如果你是一名受薪雇员，你会得到报酬，除非你的公司濒临破产，在这种情况下，你可能已经在找另一份工作了。但是许多 PHP/MySQL 开发人员是顾问或承包商，所以及时付款不会自动发生。获得报酬有两个部分:开发票和收款。

货品计价

每个项目都需要一份书面合同，即使只是一封简单的概述关键协议的电子邮件。除非你是一名志愿者，就像我在世界事务系统会议上一样，这些协议必须包括以下内容:

*   你会得到多少报酬。
*   你多久给客户开一次发票。
*   客户何时支付发票。
*   谁能拿到发票。
*   您需要参考什么特殊代码，例如项目编号或供应商编号。

如果雇佣你的人不知道最后两个，不要惊讶。如果你找不到答案，你可能会在发现需要支付项目费用之前，向应付帐款部门发送几张发票。即使这样，你可能会发现，如果你留下你的供应商编号，你的发票可能会被忽略。接到一个友好的人打来的电话，主动提出写下一些关键信息，这是你不能指望的奢侈。许多组织欢迎延期付款的借口。尽量不要帮他们。

我总是按小时工作，从来没有固定价格的合同。当你加入客户团队的时候。以固定的价格工作会让你成为一个对手，每一个需求变更或 bug 报告都是产生分歧的机会。别这么做。

每小时多少钱？要看客户是谁，在哪里。阿尔伯克基或博伊西的费用可能是纽约或旧金山的一半。财富 500 强公司支付的比家庭经营多得多。事实上，每小时收费低于 125 美元左右，财富 500 强公司甚至不会雇用你，因为你显然没有资格做他们的工作。如果一定量的工作有保证，我有时会给折扣，因为我知道在寻找下一份工作时，我不会有那么多的停工时间。

如果可能的话，费用——旅行、设备、软件等等——应该是额外的。理查森学区无法证明支付外州承包商的差旅费是合理的，所以我把他们的差旅费计入了我的时薪。这很容易计算，因为我们已经同意每月两次为期两天的旅行。

找出你需要哪些费用文件，有哪些限制，如果是设备，是否需要归还，何时归还，归还给谁。

尽你所能找到发票的确切寄送地点和方式(电子邮件、PDF、公司供应商网站等)。).确保你有所有你需要的参考代码，这样他们就知道发票是谁开的，而且是经过授权的。(下一节将详细介绍这一点。)

及时收到你的发票。我曾经有一个客户破产了，因为我推迟了几个星期才寄出我的最后一张发票，所以一直没有收到付款。

收集

你会认为如果你提交了一份正确的发票，客户就会给你一张支票，对吗？事情并不总是这样，在下面的警示故事中就不是这样。

我当时是芝加哥一家大型律师事务所的专家证人，这家律师事务所的客户微软被另一家软件公司以违约为由起诉，该公司与微软有一份联合开发合同。我被指示把我的发票送到律师事务所，我照做了，前两笔都按时支付了。但是，从第三个开始，什么都没有。

律师事务所告诉我，他们甚至不应该支付前两笔费用，因为他们应该通过微软的法律服务系统，这就是我此后必须处理的事情。几天后，我收到一封电子邮件，里面有一个叫 MS Invoice 的东西的注册信息。

我上了网站，开始填表格，但是因为不知道订单号而卡住了。几封邮件来来回回试图得到它，期间我被告知使用 DataCert，而不是 MS Invoice。登录 DataCert 需要更多的电子邮件，其中一封邮件要求我提供我的微软联系人的姓名，而我没有。(我在案件期间没有和微软的任何人说过话；专家证人通常不直接与他们作证的一方说话。)我在说明中了解到，使用 DataCert 需要一笔可观的费用来支付安装成本。投诉的时候被告知不会收费。还有一份厚厚的多页法律协议要签署。最后，我签了协议，接受了他们的承诺，没有任何费用。

一旦我进入 DataCert，我需要一个问题编号，但我也没有。更多的邮件来得到它。最终，经过几周的反复，我能够让系统识别我的发票，此时我发现它们将在 90 天内支付。我最终得到了他们欠我的所有东西，但是，除了前两张发票，等待第三张发票的总时间大约是六个月。

所以，如果你在为微软这样的官僚机构工作，就要小心了。我不知道它荒谬的计划是一种改善现金流的故意方式，还是仅仅因为复杂性变得疯狂。不管怎样，获得报酬都是一个挑战。

雪上加霜的是，微软明确禁止我向微软开账单，因为我花了很多时间向微软开账单。因此，我有几个小时的时间是没有报酬的。

(如果你好奇的话，我从来没有发现这场诉讼发生了什么，因为它是在庭外解决的，大多数都是这样，结果是保密的。我问我的律师联系发生了什么事，但他只是笑着说他不能告诉我。)

教训:同意每小时付给你这么多钱是好的，但这本身不会让你得到报酬。弄清楚你要做什么才能真正得到报酬，否则你会等很久。

章节总结

*   你为其开发应用程序的客户决定了它的成功，所以你需要知道那些客户是谁，怎样才能满足他们。
*   项目的三个维度是需求、人员和进度。设置任意两个决定第三个。
*   开发团队的质量是应用程序能否成功的第二重要的决定因素。(首先是有正确的要求。)
*   即使有些因素，如需求和实现它们需要多长时间，是不可知的，你也必须安排时间。
*   对于 PHP/MySQL 项目，有简单明了的分工方式。一个指导方针是将转换和数据库设计放在一起，也许还有报告。
*   永远要有一份书面合同，但是你可能不需要律师来写。
*   仅仅因为你给顾客开了发票，并不意味着你很快就能拿到钱。你还需要知道如何收集。